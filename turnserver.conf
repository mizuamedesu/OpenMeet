# TURN server configuration for OpenMeet

# Network settings
listening-port=3478
tls-listening-port=5349

# Relay ports range
min-port=49152
max-port=49200

# Authentication
lt-cred-mech
user=ultra.coins.tsukuba.ac.jp:ThanksIPA

# Realm
realm=openmeet.local

# Logging
verbose

# Fingerprint for TURN messages
fingerprint

# Security
no-multicast-peers

# Allow localhost (for Docker)
no-loopback-peers

# ========== Rate Limiting (per IP) ==========

# Max allocations (connections) per user/IP
user-quota=5

# Total server allocations limit
total-quota=100

# Max bandwidth per session (bytes/sec) - 8 Mbps
max-bps=1000000

# Total server bandwidth capacity (bytes/sec) - 200 Mbps
bps-capacity=25000000

# Allocation lifetime (seconds) - disconnect idle sessions
max-allocate-lifetime=3600

# Stale nonce lifetime (seconds)
stale-nonce=600
